<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script>
</head>
<body>
<script>
    var etudiant = {
        nom: "Guichard",
        prenom: "Anthony",
        numEtudiant: 123456789,
        dateDeNaissance: [10,07,1998],
        presenter: function() {
            console.log("Je suis " + this.nom + " " + this.prenom + ", mon numero d'etudiant est le : " + this.numEtudiant + " et je suis né le " + this.dateDeNaissance);
        },
        age: function() {
            var now = new Date()
            today = [now.getDate(), now.getMonth()+1, now.getFullYear()];
            if(today[1] < this.dateDeNaissance[1]){
                age = [today[2]-this.dateDeNaissance[2]];
            } else if(today[1] == this.dateDeNaissance[1] && today[0] < this.dateDeNaissance[0]){
                age = [today[2]-this.dateDeNaissance[2]-1];
            } else if(today[1] == this.dateDeNaissance[1] && today[0] == this.dateDeNaissance[0]){
                console.log("Joyeux Anniversaire");
                age = [today[2]-this.dateDeNaissance[2]];
            } else if(today[1] == this.dateDeNaissance[1] && today[0] > this.dateDeNaissance[0]){
                age = [today[2]-this.dateDeNaissance[2]];
            } else if(today[1] > this.dateDeNaissance[1]){
                age = [today[2]-this.dateDeNaissance[2]];
            };
            console.log("J'ai "+ age + "ans");
        }
    };

    // On appelle la fonction "presenter"
    //etudiant.presenter();
    //etudiant.age();

    function Etudiant(nom, prenom, numEtudiant, dateDeNaissance){
        this.prenom = prenom;
        this.nom = nom;
        this.numEtudiant = numEtudiant;
        this.dateDeNaissance = dateDeNaissance;
        this.presenter = function() {
            console.log("Je suis " + this.nom + " " + this.prenom + ", mon numero d'etudiant est le : " + this.numEtudiant + " et je suis né le " + this.dateDeNaissance);
        };
        this.age = function() {
            var now = new Date()
            today = [now.getDate(), now.getMonth()+1, now.getFullYear()];
            if(today[1] < this.dateDeNaissance[1]){
                age = [today[2]-this.dateDeNaissance[2]];
            } else if(today[1] == this.dateDeNaissance[1] && today[0] < this.dateDeNaissance[0]){
                age = [today[2]-this.dateDeNaissance[2]-1];
            } else if(today[1] == this.dateDeNaissance[1] && today[0] == this.dateDeNaissance[0]){
                console.log("Joyeux Anniversaire");
                age = [today[2]-this.dateDeNaissance[2]];
            } else if(today[1] == this.dateDeNaissance[1] && today[0] > this.dateDeNaissance[0]){
                age = [today[2]-this.dateDeNaissance[2]];
            } else if(today[1] > this.dateDeNaissance[1]){
                age = [today[2]-this.dateDeNaissance[2]];
            };
            console.log("J'ai "+ age + "ans");
        }
    };

    // Creation d’un objet Etudiant
    var etu1 = new Etudiant("Anthony", "Guichard", 123456789, [10,07,1998]);
    etu1.presenter();
    etu1.age();

    var etu2 = new Etudiant("Bastien", "Tebbani", 987654321, [25,04,1995]);
    etu2.presenter();
    etu2.age();
    
</script>        
</body>
</html>